<div class="vehicles" *ngIf="query.select() | async as driver">
  <sps-card [title]="translations.AVAILABLE_LOTS"
            [subTitle]="translations.AVAILABLE_LOTS_INFO"
            [loading$]="query.selectLoading()"
            *ngIf="driver.parkingLots?.length">
    <sps-number-chip chip>{{driver.parkingLots.length}}</sps-number-chip>
    <div>
      <div *ngFor="let lot of driver.parkingLots">
        <sps-parking-lot-expansion-panel [parkingLot]="lot">
          <button mat-button color="primary">{{translations.RESERVE | translate}}</button>
        </sps-parking-lot-expansion-panel>
      </div>
    </div>
  </sps-card>
  <sps-card [title]="translations.REQUEST_ACCESS"
            [subTitle]="translations.REQUEST_ACCESS_INFO"
            [loading$]="query.selectLoading()"
            *ngIf="query.unAssignedParkingLots$() | async as unAssignedLots">
    <sps-number-chip chip>{{unAssignedLots.length}}</sps-number-chip>
    <div>
      <div *ngFor="let lot of unAssignedLots">
        <sps-parking-lot-expansion-panel [parkingLot]="lot">
          <button mat-button color="primary">{{translations.REQUEST_ACCESS | translate}}</button>
        </sps-parking-lot-expansion-panel>
      </div>
    </div>
  </sps-card>
</div>

